TODO:
* Fix bashisms (dash)
* Handle files with underbars in their name.
* Renaming a directory after generating it breaks (use rel paths)
* Clicking diff already opened should give that one focus
* Bringing existing diff to the front when selecting a
  diff that's already been opened.
